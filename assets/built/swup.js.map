{"version":3,"sources":["swup.js"],"names":["root","factory","exports","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","_index","_index2","default","_extends","assign","target","arguments","length","source","_createClass","defineProperties","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_plugin","_plugin2","arrayify","list","Array","slice","ScriptsPlugin","_Plugin","options","instance","TypeError","_classCallCheck","this","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","runScripts","scope","head","body","document","scripts","querySelectorAll","forEach","script","runScript","swup","log","originalElement","element","createElement","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","attributes","iterator","next","done","_ref2","setAttribute","err","return","textContent","replaceWith","subClass","superClass","constructor","setPrototypeOf","_inherits","on","off","Plugin","isSwupPlugin","HeadPlugin","_ref","_temp","_len","args","_key","apply","concat","getHeadAndReplace","headChildren","getHeadChildren","nextHeadChildren","getNextHeadChildren","replaceTags","children","pageContent","cache","getCurrentPage","originalContent","replace","innerHTML","querySelector","oldTags","newTags","themeActive","Boolean","addTags","getTagsToAdd","removeTags","getTagsToRemove","reverse","item","removeChild","tag","insertBefore","index","compareTags","oldTag","newTag","outerHTML","foundAt","j","getAttribute","push","Link","markSwupElements","getCurrentUrl","transitionEnd","fetch","getDataFromHtml","createHistoryRecord","classify","_classify2","_interopRequireDefault","_createHistoryRecord2","_getDataFromHtml2","_fetch2","_transitionEnd2","_getCurrentUrl2","_markSwupElements2","_Link2","query","selector","context","queryAll","_delegate2","_Cache2","_loadPage2","_renderPage2","_triggerEvent2","_on2","_off2","_updateTransition2","_getAnimationPromises2","_getPageData2","_plugins","_utils","_helpers","Swup","setOptions","defaults","animateHistoryBrowsing","animationSelector","linkSelector","location","origin","containers","requestHeaders","X-Requested-With","Accept","plugins","skipPopStateHandling","event","state","_handlers","animationInDone","animationInStart","animationOutDone","animationOutStart","animationSkipped","clickLink","contentReplaced","disabled","enabled","openPageInNewTab","pageLoaded","pageRetrievedFromCache","pageView","popState","samePage","samePageWithHash","serverError","transitionStart","willReplaceContent","scrollToElement","preloadPromise","transition","delegatedListeners","loadPage","renderPage","triggerEvent","updateTransition","getAnimationPromises","getPageData","use","unuse","findPlugin","enable","Promise","click","linkClickHandler","addEventListener","popStateHandler","page","documentElement","url","responseURL","cacheUrl","plugin","history","replaceState","href","random","Math","title","classList","add","console","warn","_this2","destroy","mouseover","removeEventListener","empty","removeAttribute","remove","metaKey","ctrlKey","shiftKey","altKey","button","preventDefault","link","delegateTarget","getAddress","getHash","customTransition","pathname","closest","type","callback","useCapture","listenerFn","e","Element","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","nodeType","parentNode","Cache","pages","last","keys","getPage","search","data","popstate","animationPromises","xhrPromise","all","then","animateOut","exists","resolve","route","reject","headers","response","status","catch","errorUrl","go","text","output","toString","toLowerCase","splice","pushState","split","hostname","getElementsByTagName","innerText","_typeof","html","content","fakeDom","blocks","_loop","v","_ret","json","pageClass","className","method","request","XMLHttpRequest","onreadystatechange","readyState","open","setRequestHeader","send","el","transEndEventNames","WebkitTransition","MozTransition","OTransition","style","elementOrUrl","SVGElement","path","hash","getPath","setTimeout","classItem","RegExp","test","eventName","originalEvent","handler","error","CustomEvent","detail","dispatchEvent","filter","savedHandler","toRemove","indexOf","from","to","custom","promises","promise","responseText","pageObject","_beforeMount","mount","pluginReference","find","unmount","_afterUnmount","pluginName"],"mappings":"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","file":"swup.js","sourcesContent":["/** Swup scripts plugin */\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"SwupScriptsPlugin\"] = factory();\r\n\telse\r\n\t\troot[\"SwupScriptsPlugin\"] = factory();\r\n})(window, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// define __esModule on exports\r\n/******/ \t__webpack_require__.r = function(exports) {\r\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\r\n/******/ \t\t}\r\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\r\n/******/ \t};\r\n/******/\r\n/******/ \t// create a fake namespace object\r\n/******/ \t// mode & 1: value is a module id, require it\r\n/******/ \t// mode & 2: merge all properties of value into the ns\r\n/******/ \t// mode & 4: return value when already ns object\r\n/******/ \t// mode & 8|1: behave like require\r\n/******/ \t__webpack_require__.t = function(value, mode) {\r\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\r\n/******/ \t\tif(mode & 8) return value;\r\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n/******/ \t\tvar ns = Object.create(null);\r\n/******/ \t\t__webpack_require__.r(ns);\r\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\r\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\r\n/******/ \t\treturn ns;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nvar _index = __webpack_require__(1);\r\n\r\nvar _index2 = _interopRequireDefault(_index);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nmodule.exports = _index2.default; // this is here for webpack to expose SwupPlugin as window.SwupPlugin\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _plugin = __webpack_require__(2);\r\n\r\nvar _plugin2 = _interopRequireDefault(_plugin);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar arrayify = function arrayify(list) {\r\n\treturn Array.prototype.slice.call(list);\r\n};\r\n\r\nvar ScriptsPlugin = function (_Plugin) {\r\n\t_inherits(ScriptsPlugin, _Plugin);\r\n\r\n\tfunction ScriptsPlugin(options) {\r\n\t\t_classCallCheck(this, ScriptsPlugin);\r\n\r\n\t\tvar _this = _possibleConstructorReturn(this, (ScriptsPlugin.__proto__ || Object.getPrototypeOf(ScriptsPlugin)).call(this));\r\n\r\n\t\t_this.name = 'ScriptsPlugin';\r\n\r\n\t\t_this.runScripts = function () {\r\n\t\t\tvar scope = _this.options.head && _this.options.body ? document : _this.options.head ? document.head : document.body;\r\n\r\n\t\t\tvar scripts = arrayify(scope.querySelectorAll('script:not([data-swup-ignore-script])'));\r\n\r\n\t\t\tscripts.forEach(function (script) {\r\n\t\t\t\treturn _this.runScript(script);\r\n\t\t\t});\r\n\r\n\t\t\t_this.swup.log('Executed ' + scripts.length + ' scripts.');\r\n\t\t};\r\n\r\n\t\t_this.runScript = function (originalElement) {\r\n\t\t\tvar element = document.createElement('script');\r\n\r\n\t\t\tvar _iteratorNormalCompletion = true;\r\n\t\t\tvar _didIteratorError = false;\r\n\t\t\tvar _iteratorError = undefined;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tfor (var _iterator = arrayify(originalElement.attributes)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\r\n\t\t\t\t\tvar _ref2 = _step.value;\r\n\t\t\t\t\tvar name = _ref2.name,\r\n\t\t\t\t\t    value = _ref2.value;\r\n\r\n\t\t\t\t\telement.setAttribute(name, value);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\t_didIteratorError = true;\r\n\t\t\t\t_iteratorError = err;\r\n\t\t\t} finally {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\r\n\t\t\t\t\t\t_iterator.return();\r\n\t\t\t\t\t}\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tif (_didIteratorError) {\r\n\t\t\t\t\t\tthrow _iteratorError;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\telement.textContent = originalElement.textContent;\r\n\t\t\telement.setAttribute('async', 'false');\r\n\r\n\t\t\toriginalElement.replaceWith(element);\r\n\t\t\treturn element;\r\n\t\t};\r\n\r\n\t\tvar defaultOptions = {\r\n\t\t\thead: true,\r\n\t\t\tbody: true\r\n\t\t};\r\n\r\n\t\t_this.options = _extends({}, defaultOptions, options);\r\n\t\treturn _this;\r\n\t}\r\n\r\n\t_createClass(ScriptsPlugin, [{\r\n\t\tkey: 'mount',\r\n\t\tvalue: function mount() {\r\n\t\t\tthis.swup.on('contentReplaced', this.runScripts);\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'unmount',\r\n\t\tvalue: function unmount() {\r\n\t\t\tthis.swup.off('contentReplaced', this.runScripts);\r\n\t\t}\r\n\t}]);\r\n\r\n\treturn ScriptsPlugin;\r\n}(_plugin2.default);\r\n\r\nexports.default = ScriptsPlugin;\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Plugin = function () {\r\n    function Plugin() {\r\n        _classCallCheck(this, Plugin);\r\n\r\n        this.isSwupPlugin = true;\r\n    }\r\n\r\n    _createClass(Plugin, [{\r\n        key: \"mount\",\r\n        value: function mount() {\r\n            // this is mount method rewritten by class extending\r\n            // and is executed when swup is enabled with plugin\r\n        }\r\n    }, {\r\n        key: \"unmount\",\r\n        value: function unmount() {\r\n            // this is unmount method rewritten by class extending\r\n            // and is executed when swup with plugin is disabled\r\n        }\r\n    }, {\r\n        key: \"_beforeMount\",\r\n        value: function _beforeMount() {\r\n            // here for any future hidden auto init\r\n        }\r\n    }, {\r\n        key: \"_afterUnmount\",\r\n        value: function _afterUnmount() {}\r\n        // here for any future hidden auto-cleanup\r\n\r\n\r\n        // this is here so we can tell if plugin was created by extending this class\r\n\r\n    }]);\r\n\r\n    return Plugin;\r\n}();\r\n\r\nexports.default = Plugin;\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n\r\n/** Swup Head plugin */\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"SwupHeadPlugin\"] = factory();\r\n\telse\r\n\t\troot[\"SwupHeadPlugin\"] = factory();\r\n})(window, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// define __esModule on exports\r\n/******/ \t__webpack_require__.r = function(exports) {\r\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\r\n/******/ \t\t}\r\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\r\n/******/ \t};\r\n/******/\r\n/******/ \t// create a fake namespace object\r\n/******/ \t// mode & 1: value is a module id, require it\r\n/******/ \t// mode & 2: merge all properties of value into the ns\r\n/******/ \t// mode & 4: return value when already ns object\r\n/******/ \t// mode & 8|1: behave like require\r\n/******/ \t__webpack_require__.t = function(value, mode) {\r\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\r\n/******/ \t\tif(mode & 8) return value;\r\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n/******/ \t\tvar ns = Object.create(null);\r\n/******/ \t\t__webpack_require__.r(ns);\r\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\r\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\r\n/******/ \t\treturn ns;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nvar _index = __webpack_require__(1);\r\n\r\nvar _index2 = _interopRequireDefault(_index);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nmodule.exports = _index2.default; // this is here for webpack to expose SwupPlugin as window.SwupPlugin\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _plugin = __webpack_require__(2);\r\n\r\nvar _plugin2 = _interopRequireDefault(_plugin);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar HeadPlugin = function (_Plugin) {\r\n\t_inherits(HeadPlugin, _Plugin);\r\n\r\n\tfunction HeadPlugin() {\r\n\t\tvar _ref;\r\n\r\n\t\tvar _temp, _this, _ret;\r\n\r\n\t\t_classCallCheck(this, HeadPlugin);\r\n\r\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n\t\t\targs[_key] = arguments[_key];\r\n\t\t}\r\n\r\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = HeadPlugin.__proto__ || Object.getPrototypeOf(HeadPlugin)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'HeadPlugin', _this.getHeadAndReplace = function () {\r\n\t\t\tvar headChildren = _this.getHeadChildren();\r\n\t\t\tvar nextHeadChildren = _this.getNextHeadChildren();\r\n\r\n\t\t\t_this.replaceTags(headChildren, nextHeadChildren);\r\n\t\t}, _this.getHeadChildren = function () {\r\n\t\t\treturn document.head.children;\r\n\t\t}, _this.getNextHeadChildren = function () {\r\n\t\t\tvar pageContent = _this.swup.cache.getCurrentPage().originalContent.replace('<head', '<div id=\"swupHead\"').replace('</head>', '</div>');\r\n\t\t\tvar element = document.createElement('div');\r\n\t\t\telement.innerHTML = pageContent;\r\n\t\t\tvar children = element.querySelector('#swupHead').children;\r\n\r\n\t\t\t// cleanup\r\n\t\t\telement.innerHTML = '';\r\n\t\t\telement = null;\r\n\r\n\t\t\treturn children;\r\n\t\t}, _this.replaceTags = function (oldTags, newTags) {\r\n\t\t\tvar head = document.head;\r\n\t\t\tvar themeActive = Boolean(document.querySelector('[data-swup-theme]'));\r\n\t\t\tvar addTags = _this.getTagsToAdd(oldTags, newTags, themeActive);\r\n\t\t\tvar removeTags = _this.getTagsToRemove(oldTags, newTags, themeActive);\r\n\r\n\t\t\tremoveTags.reverse().forEach(function (item) {\r\n\t\t\t\thead.removeChild(item.tag);\r\n\t\t\t});\r\n\r\n\t\t\taddTags.forEach(function (item) {\r\n\t\t\t\thead.insertBefore(item.tag, head.children[item.index]);\r\n\t\t\t});\r\n\r\n\t\t\t_this.swup.log('Removed ' + removeTags.length + ' / added ' + addTags.length + ' tags in head');\r\n\t\t}, _this.compareTags = function (oldTag, newTag) {\r\n\t\t\tvar oldTagContent = oldTag.outerHTML;\r\n\t\t\tvar newTagContent = newTag.outerHTML;\r\n\r\n\t\t\treturn oldTagContent === newTagContent;\r\n\t\t}, _this.getTagsToRemove = function (oldTags, newTags) {\r\n\t\t\tvar removeTags = [];\r\n\r\n\t\t\tfor (var i = 0; i < oldTags.length; i++) {\r\n\t\t\t\tvar foundAt = null;\r\n\r\n\t\t\t\tfor (var j = 0; j < newTags.length; j++) {\r\n\t\t\t\t\tif (_this.compareTags(oldTags[i], newTags[j])) {\r\n\t\t\t\t\t\tfoundAt = j;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (foundAt == null && oldTags[i].getAttribute('data-swup-theme') === null) {\r\n\t\t\t\t\tremoveTags.push({ tag: oldTags[i] });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn removeTags;\r\n\t\t}, _this.getTagsToAdd = function (oldTags, newTags, themeActive) {\r\n\t\t\tvar addTags = [];\r\n\r\n\t\t\tfor (var i = 0; i < newTags.length; i++) {\r\n\t\t\t\tvar foundAt = null;\r\n\r\n\t\t\t\tfor (var j = 0; j < oldTags.length; j++) {\r\n\t\t\t\t\tif (_this.compareTags(oldTags[j], newTags[i])) {\r\n\t\t\t\t\t\tfoundAt = j;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (foundAt == null) {\r\n\t\t\t\t\taddTags.push({ index: themeActive ? i + 1 : i, tag: newTags[i] });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn addTags;\r\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\r\n\t}\r\n\r\n\t_createClass(HeadPlugin, [{\r\n\t\tkey: 'mount',\r\n\t\tvalue: function mount() {\r\n\t\t\tthis.swup.on('contentReplaced', this.getHeadAndReplace);\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'unmount',\r\n\t\tvalue: function unmount() {\r\n\t\t\tthis.swup.off('contentReplaced', this.getHeadAndReplace);\r\n\t\t}\r\n\t}]);\r\n\r\n\treturn HeadPlugin;\r\n}(_plugin2.default);\r\n\r\nexports.default = HeadPlugin;\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Plugin = function () {\r\n    function Plugin() {\r\n        _classCallCheck(this, Plugin);\r\n\r\n        this.isSwupPlugin = true;\r\n    }\r\n\r\n    _createClass(Plugin, [{\r\n        key: \"mount\",\r\n        value: function mount() {\r\n            // this is mount method rewritten by class extending\r\n            // and is executed when swup is enabled with plugin\r\n        }\r\n    }, {\r\n        key: \"unmount\",\r\n        value: function unmount() {\r\n            // this is unmount method rewritten by class extending\r\n            // and is executed when swup with plugin is disabled\r\n        }\r\n    }, {\r\n        key: \"_beforeMount\",\r\n        value: function _beforeMount() {\r\n            // here for any future hidden auto init\r\n        }\r\n    }, {\r\n        key: \"_afterUnmount\",\r\n        value: function _afterUnmount() {}\r\n        // here for any future hidden auto-cleanup\r\n\r\n\r\n        // this is here so we can tell if plugin was created by extending this class\r\n\r\n    }]);\r\n\r\n    return Plugin;\r\n}();\r\n\r\nexports.default = Plugin;\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n\r\n/** Swup.js */\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"Swup\"] = factory();\r\n\telse\r\n\t\troot[\"Swup\"] = factory();\r\n})(window, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// define __esModule on exports\r\n/******/ \t__webpack_require__.r = function(exports) {\r\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\r\n/******/ \t\t}\r\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\r\n/******/ \t};\r\n/******/\r\n/******/ \t// create a fake namespace object\r\n/******/ \t// mode & 1: value is a module id, require it\r\n/******/ \t// mode & 2: merge all properties of value into the ns\r\n/******/ \t// mode & 4: return value when already ns object\r\n/******/ \t// mode & 8|1: behave like require\r\n/******/ \t__webpack_require__.t = function(value, mode) {\r\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\r\n/******/ \t\tif(mode & 8) return value;\r\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n/******/ \t\tvar ns = Object.create(null);\r\n/******/ \t\t__webpack_require__.r(ns);\r\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\r\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\r\n/******/ \t\treturn ns;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Link = exports.markSwupElements = exports.getCurrentUrl = exports.transitionEnd = exports.fetch = exports.getDataFromHtml = exports.createHistoryRecord = exports.classify = undefined;\r\n\r\nvar _classify = __webpack_require__(8);\r\n\r\nvar _classify2 = _interopRequireDefault(_classify);\r\n\r\nvar _createHistoryRecord = __webpack_require__(9);\r\n\r\nvar _createHistoryRecord2 = _interopRequireDefault(_createHistoryRecord);\r\n\r\nvar _getDataFromHtml = __webpack_require__(10);\r\n\r\nvar _getDataFromHtml2 = _interopRequireDefault(_getDataFromHtml);\r\n\r\nvar _fetch = __webpack_require__(11);\r\n\r\nvar _fetch2 = _interopRequireDefault(_fetch);\r\n\r\nvar _transitionEnd = __webpack_require__(12);\r\n\r\nvar _transitionEnd2 = _interopRequireDefault(_transitionEnd);\r\n\r\nvar _getCurrentUrl = __webpack_require__(13);\r\n\r\nvar _getCurrentUrl2 = _interopRequireDefault(_getCurrentUrl);\r\n\r\nvar _markSwupElements = __webpack_require__(14);\r\n\r\nvar _markSwupElements2 = _interopRequireDefault(_markSwupElements);\r\n\r\nvar _Link = __webpack_require__(15);\r\n\r\nvar _Link2 = _interopRequireDefault(_Link);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar classify = exports.classify = _classify2.default;\r\nvar createHistoryRecord = exports.createHistoryRecord = _createHistoryRecord2.default;\r\nvar getDataFromHtml = exports.getDataFromHtml = _getDataFromHtml2.default;\r\nvar fetch = exports.fetch = _fetch2.default;\r\nvar transitionEnd = exports.transitionEnd = _transitionEnd2.default;\r\nvar getCurrentUrl = exports.getCurrentUrl = _getCurrentUrl2.default;\r\nvar markSwupElements = exports.markSwupElements = _markSwupElements2.default;\r\nvar Link = exports.Link = _Link2.default;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar query = exports.query = function query(selector) {\r\n\tvar context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\r\n\r\n\tif (typeof selector !== 'string') {\r\n\t\treturn selector;\r\n\t}\r\n\r\n\treturn context.querySelector(selector);\r\n};\r\n\r\nvar queryAll = exports.queryAll = function queryAll(selector) {\r\n\tvar context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\r\n\r\n\tif (typeof selector !== 'string') {\r\n\t\treturn selector;\r\n\t}\r\n\r\n\treturn Array.prototype.slice.call(context.querySelectorAll(selector));\r\n};\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nvar _index = __webpack_require__(3);\r\n\r\nvar _index2 = _interopRequireDefault(_index);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nmodule.exports = _index2.default; // this is here for webpack to expose Swup as window.Swup\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\n// modules\r\n\r\n\r\nvar _delegate = __webpack_require__(4);\r\n\r\nvar _delegate2 = _interopRequireDefault(_delegate);\r\n\r\nvar _Cache = __webpack_require__(6);\r\n\r\nvar _Cache2 = _interopRequireDefault(_Cache);\r\n\r\nvar _loadPage = __webpack_require__(7);\r\n\r\nvar _loadPage2 = _interopRequireDefault(_loadPage);\r\n\r\nvar _renderPage = __webpack_require__(16);\r\n\r\nvar _renderPage2 = _interopRequireDefault(_renderPage);\r\n\r\nvar _triggerEvent = __webpack_require__(17);\r\n\r\nvar _triggerEvent2 = _interopRequireDefault(_triggerEvent);\r\n\r\nvar _on = __webpack_require__(18);\r\n\r\nvar _on2 = _interopRequireDefault(_on);\r\n\r\nvar _off = __webpack_require__(19);\r\n\r\nvar _off2 = _interopRequireDefault(_off);\r\n\r\nvar _updateTransition = __webpack_require__(20);\r\n\r\nvar _updateTransition2 = _interopRequireDefault(_updateTransition);\r\n\r\nvar _getAnimationPromises = __webpack_require__(21);\r\n\r\nvar _getAnimationPromises2 = _interopRequireDefault(_getAnimationPromises);\r\n\r\nvar _getPageData = __webpack_require__(22);\r\n\r\nvar _getPageData2 = _interopRequireDefault(_getPageData);\r\n\r\nvar _plugins = __webpack_require__(23);\r\n\r\nvar _utils = __webpack_require__(1);\r\n\r\nvar _helpers = __webpack_require__(0);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Swup = function () {\r\n\tfunction Swup(setOptions) {\r\n\t\t_classCallCheck(this, Swup);\r\n\r\n\t\t// default options\r\n\t\tvar defaults = {\r\n\t\t\tanimateHistoryBrowsing: false,\r\n\t\t\tanimationSelector: '[class*=\"transition-\"]',\r\n\t\t\tlinkSelector: 'a[href^=\"' + window.location.origin + '\"]:not([data-no-swup]), a[href^=\"/\"]:not([data-no-swup]), a[href^=\"#\"]:not([data-no-swup])',\r\n\t\t\tcache: true,\r\n\t\t\tcontainers: ['#swup'],\r\n\t\t\trequestHeaders: {\r\n\t\t\t\t'X-Requested-With': 'swup',\r\n\t\t\t\tAccept: 'text/html, application/xhtml+xml'\r\n\t\t\t},\r\n\t\t\tplugins: [],\r\n\t\t\tskipPopStateHandling: function skipPopStateHandling(event) {\r\n\t\t\t\treturn !(event.state && event.state.source === 'swup');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// merge options\r\n\t\tvar options = _extends({}, defaults, setOptions);\r\n\r\n\t\t// handler arrays\r\n\t\tthis._handlers = {\r\n\t\t\tanimationInDone: [],\r\n\t\t\tanimationInStart: [],\r\n\t\t\tanimationOutDone: [],\r\n\t\t\tanimationOutStart: [],\r\n\t\t\tanimationSkipped: [],\r\n\t\t\tclickLink: [],\r\n\t\t\tcontentReplaced: [],\r\n\t\t\tdisabled: [],\r\n\t\t\tenabled: [],\r\n\t\t\topenPageInNewTab: [],\r\n\t\t\tpageLoaded: [],\r\n\t\t\tpageRetrievedFromCache: [],\r\n\t\t\tpageView: [],\r\n\t\t\tpopState: [],\r\n\t\t\tsamePage: [],\r\n\t\t\tsamePageWithHash: [],\r\n\t\t\tserverError: [],\r\n\t\t\ttransitionStart: [],\r\n\t\t\ttransitionEnd: [],\r\n\t\t\twillReplaceContent: []\r\n\t\t};\r\n\r\n\t\t// variable for id of element to scroll to after render\r\n\t\tthis.scrollToElement = null;\r\n\t\t// variable for promise used for preload, so no new loading of the same page starts while page is loading\r\n\t\tthis.preloadPromise = null;\r\n\t\t// variable for save options\r\n\t\tthis.options = options;\r\n\t\t// variable for plugins array\r\n\t\tthis.plugins = [];\r\n\t\t// variable for current transition object\r\n\t\tthis.transition = {};\r\n\t\t// variable for keeping event listeners from \"delegate\"\r\n\t\tthis.delegatedListeners = {};\r\n\r\n\t\t// make modules accessible in instance\r\n\t\tthis.cache = new _Cache2.default();\r\n\t\tthis.cache.swup = this;\r\n\t\tthis.loadPage = _loadPage2.default;\r\n\t\tthis.renderPage = _renderPage2.default;\r\n\t\tthis.triggerEvent = _triggerEvent2.default;\r\n\t\tthis.on = _on2.default;\r\n\t\tthis.off = _off2.default;\r\n\t\tthis.updateTransition = _updateTransition2.default;\r\n\t\tthis.getAnimationPromises = _getAnimationPromises2.default;\r\n\t\tthis.getPageData = _getPageData2.default;\r\n\t\tthis.log = function () {}; // here so it can be used by plugins\r\n\t\tthis.use = _plugins.use;\r\n\t\tthis.unuse = _plugins.unuse;\r\n\t\tthis.findPlugin = _plugins.findPlugin;\r\n\r\n\t\t// enable swup\r\n\t\tthis.enable();\r\n\t}\r\n\r\n\t_createClass(Swup, [{\r\n\t\tkey: 'enable',\r\n\t\tvalue: function enable() {\r\n\t\t\tvar _this = this;\r\n\r\n\t\t\t// check for Promise support\r\n\t\t\tif (typeof Promise === 'undefined') {\r\n\t\t\t\tconsole.warn('Promise is not supported');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// add event listeners\r\n\t\t\tthis.delegatedListeners.click = (0, _delegate2.default)(document, this.options.linkSelector, 'click', this.linkClickHandler.bind(this));\r\n\t\t\twindow.addEventListener('popstate', this.popStateHandler.bind(this));\r\n\r\n\t\t\t// initial save to cache\r\n\t\t\tvar page = (0, _helpers.getDataFromHtml)(document.documentElement.outerHTML, this.options.containers);\r\n\t\t\tpage.url = page.responseURL = (0, _helpers.getCurrentUrl)();\r\n\t\t\tif (this.options.cache) {\r\n\t\t\t\tthis.cache.cacheUrl(page);\r\n\t\t\t}\r\n\r\n\t\t\t// mark swup blocks in html\r\n\t\t\t(0, _helpers.markSwupElements)(document.documentElement, this.options.containers);\r\n\r\n\t\t\t// mount plugins\r\n\t\t\tthis.options.plugins.forEach(function (plugin) {\r\n\t\t\t\t_this.use(plugin);\r\n\t\t\t});\r\n\r\n\t\t\t// modify initial history record\r\n\t\t\twindow.history.replaceState(Object.assign({}, window.history.state, {\r\n\t\t\t\turl: window.location.href,\r\n\t\t\t\trandom: Math.random(),\r\n\t\t\t\tsource: 'swup'\r\n\t\t\t}), document.title, window.location.href);\r\n\r\n\t\t\t// trigger enabled event\r\n\t\t\tthis.triggerEvent('enabled');\r\n\r\n\t\t\t// add swup-enabled class to html tag\r\n\t\t\tdocument.documentElement.classList.add('swup-enabled');\r\n\r\n\t\t\t// trigger page view event\r\n\t\t\tthis.triggerEvent('pageView');\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'destroy',\r\n\t\tvalue: function destroy() {\r\n\t\t\tvar _this2 = this;\r\n\r\n\t\t\t// remove delegated listeners\r\n\t\t\tthis.delegatedListeners.click.destroy();\r\n\t\t\tthis.delegatedListeners.mouseover.destroy();\r\n\r\n\t\t\t// remove popstate listener\r\n\t\t\twindow.removeEventListener('popstate', this.popStateHandler.bind(this));\r\n\r\n\t\t\t// empty cache\r\n\t\t\tthis.cache.empty();\r\n\r\n\t\t\t// unmount plugins\r\n\t\t\tthis.options.plugins.forEach(function (plugin) {\r\n\t\t\t\t_this2.unuse(plugin);\r\n\t\t\t});\r\n\r\n\t\t\t// remove swup data atributes from blocks\r\n\t\t\t(0, _utils.queryAll)('[data-swup]').forEach(function (element) {\r\n\t\t\t\telement.removeAttribute('data-swup');\r\n\t\t\t});\r\n\r\n\t\t\t// remove handlers\r\n\t\t\tthis.off();\r\n\r\n\t\t\t// trigger disable event\r\n\t\t\tthis.triggerEvent('disabled');\r\n\r\n\t\t\t// remove swup-enabled class from html tag\r\n\t\t\tdocument.documentElement.classList.remove('swup-enabled');\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'linkClickHandler',\r\n\t\tvalue: function linkClickHandler(event) {\r\n\t\t\t// no control key pressed\r\n\t\t\tif (!event.metaKey && !event.ctrlKey && !event.shiftKey && !event.altKey) {\r\n\t\t\t\t// index of pressed button needs to be checked because Firefox triggers click on all mouse buttons\r\n\t\t\t\tif (event.button === 0) {\r\n\t\t\t\t\tthis.triggerEvent('clickLink', event);\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tvar link = new _helpers.Link(event.delegateTarget);\r\n\t\t\t\t\tif (link.getAddress() == (0, _helpers.getCurrentUrl)() || link.getAddress() == '') {\r\n\t\t\t\t\t\t// link to the same URL\r\n\t\t\t\t\t\tif (link.getHash() != '') {\r\n\t\t\t\t\t\t\t// link to the same URL with hash\r\n\t\t\t\t\t\t\tthis.triggerEvent('samePageWithHash', event);\r\n\t\t\t\t\t\t\tvar element = document.querySelector(link.getHash());\r\n\t\t\t\t\t\t\tif (element != null) {\r\n\t\t\t\t\t\t\t\thistory.replaceState({\r\n\t\t\t\t\t\t\t\t\turl: link.getAddress() + link.getHash(),\r\n\t\t\t\t\t\t\t\t\trandom: Math.random(),\r\n\t\t\t\t\t\t\t\t\tsource: 'swup'\r\n\t\t\t\t\t\t\t\t}, document.title, link.getAddress() + link.getHash());\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// referenced element not found\r\n\t\t\t\t\t\t\t\tconsole.warn('Element for offset not found (' + link.getHash() + ')');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// link to the same URL without hash\r\n\t\t\t\t\t\t\tthis.triggerEvent('samePage', event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// link to different url\r\n\t\t\t\t\t\tif (link.getHash() != '') {\r\n\t\t\t\t\t\t\tthis.scrollToElement = link.getHash();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// get custom transition from data\r\n\t\t\t\t\t\tvar customTransition = event.delegateTarget.getAttribute('data-swup-transition');\r\n\r\n\t\t\t\t\t\t// load page\r\n\t\t\t\t\t\tthis.loadPage({ url: link.getAddress(), customTransition: customTransition }, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// open in new tab (do nothing)\r\n\t\t\t\tthis.triggerEvent('openPageInNewTab', event);\r\n\t\t\t}\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'popStateHandler',\r\n\t\tvalue: function popStateHandler(event) {\r\n\t\t\tif (this.options.skipPopStateHandling(event)) return;\r\n\t\t\tvar link = new _helpers.Link(event.state ? event.state.url : window.location.pathname);\r\n\t\t\tif (link.getHash() !== '') {\r\n\t\t\t\tthis.scrollToElement = link.getHash();\r\n\t\t\t} else {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t\tthis.triggerEvent('popState', event);\r\n\t\t\tthis.loadPage({ url: link.getAddress() }, event);\r\n\t\t}\r\n\t}]);\r\n\r\n\treturn Swup;\r\n}();\r\n\r\nexports.default = Swup;\r\n\r\n/***/ }),\r\n/* 4 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar closest = __webpack_require__(5);\r\n\r\n/**\r\n * Delegates event to a selector.\r\n *\r\n * @param {Element} element\r\n * @param {String} selector\r\n * @param {String} type\r\n * @param {Function} callback\r\n * @param {Boolean} useCapture\r\n * @return {Object}\r\n */\r\nfunction delegate(element, selector, type, callback, useCapture) {\r\n    var listenerFn = listener.apply(this, arguments);\r\n\r\n    element.addEventListener(type, listenerFn, useCapture);\r\n\r\n    return {\r\n        destroy: function() {\r\n            element.removeEventListener(type, listenerFn, useCapture);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Finds closest match and invokes callback.\r\n *\r\n * @param {Element} element\r\n * @param {String} selector\r\n * @param {String} type\r\n * @param {Function} callback\r\n * @return {Function}\r\n */\r\nfunction listener(element, selector, type, callback) {\r\n    return function(e) {\r\n        e.delegateTarget = closest(e.target, selector);\r\n\r\n        if (e.delegateTarget) {\r\n            callback.call(element, e);\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = delegate;\r\n\r\n\r\n/***/ }),\r\n/* 5 */\r\n/***/ (function(module, exports) {\r\n\r\nvar DOCUMENT_NODE_TYPE = 9;\r\n\r\n/**\r\n * A polyfill for Element.matches()\r\n */\r\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\r\n    var proto = Element.prototype;\r\n\r\n    proto.matches = proto.matchesSelector ||\r\n                    proto.mozMatchesSelector ||\r\n                    proto.msMatchesSelector ||\r\n                    proto.oMatchesSelector ||\r\n                    proto.webkitMatchesSelector;\r\n}\r\n\r\n/**\r\n * Finds the closest parent that matches a selector.\r\n *\r\n * @param {Element} element\r\n * @param {String} selector\r\n * @return {Function}\r\n */\r\nfunction closest (element, selector) {\r\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\r\n        if (typeof element.matches === 'function' &&\r\n            element.matches(selector)) {\r\n          return element;\r\n        }\r\n        element = element.parentNode;\r\n    }\r\n}\r\n\r\nmodule.exports = closest;\r\n\r\n\r\n/***/ }),\r\n/* 6 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Cache = exports.Cache = function () {\r\n\tfunction Cache() {\r\n\t\t_classCallCheck(this, Cache);\r\n\r\n\t\tthis.pages = {};\r\n\t\tthis.last = null;\r\n\t}\r\n\r\n\t_createClass(Cache, [{\r\n\t\tkey: 'cacheUrl',\r\n\t\tvalue: function cacheUrl(page) {\r\n\t\t\tif (page.url in this.pages === false) {\r\n\t\t\t\tthis.pages[page.url] = page;\r\n\t\t\t}\r\n\t\t\tthis.last = this.pages[page.url];\r\n\t\t\tthis.swup.log('Cache (' + Object.keys(this.pages).length + ')', this.pages);\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getPage',\r\n\t\tvalue: function getPage(url) {\r\n\t\t\treturn this.pages[url];\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getCurrentPage',\r\n\t\tvalue: function getCurrentPage() {\r\n\t\t\treturn this.getPage(window.location.pathname + window.location.search);\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'exists',\r\n\t\tvalue: function exists(url) {\r\n\t\t\treturn url in this.pages;\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'empty',\r\n\t\tvalue: function empty() {\r\n\t\t\tthis.pages = {};\r\n\t\t\tthis.last = null;\r\n\t\t\tthis.swup.log('Cache cleared');\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'remove',\r\n\t\tvalue: function remove(url) {\r\n\t\t\tdelete this.pages[url];\r\n\t\t}\r\n\t}]);\r\n\r\n\treturn Cache;\r\n}();\r\n\r\nexports.default = Cache;\r\n\r\n/***/ }),\r\n/* 7 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _helpers = __webpack_require__(0);\r\n\r\nvar loadPage = function loadPage(data, popstate) {\r\n\tvar _this = this;\r\n\r\n\t// create array for storing animation promises\r\n\tvar animationPromises = [],\r\n\t    xhrPromise = void 0;\r\n\tvar animateOut = function animateOut() {\r\n\t\t_this.triggerEvent('animationOutStart');\r\n\r\n\t\t// handle classes\r\n\t\tdocument.documentElement.classList.add('is-changing');\r\n\t\tdocument.documentElement.classList.add('is-leaving');\r\n\t\tdocument.documentElement.classList.add('is-animating');\r\n\t\tif (popstate) {\r\n\t\t\tdocument.documentElement.classList.add('is-popstate');\r\n\t\t}\r\n\t\tdocument.documentElement.classList.add('to-' + (0, _helpers.classify)(data.url));\r\n\r\n\t\t// animation promise stuff\r\n\t\tanimationPromises = _this.getAnimationPromises('out');\r\n\t\tPromise.all(animationPromises).then(function () {\r\n\t\t\t_this.triggerEvent('animationOutDone');\r\n\t\t});\r\n\r\n\t\t// create history record if this is not a popstate call\r\n\t\tif (!popstate) {\r\n\t\t\t// create pop element with or without anchor\r\n\t\t\tvar state = void 0;\r\n\t\t\tif (_this.scrollToElement != null) {\r\n\t\t\t\tstate = data.url + _this.scrollToElement;\r\n\t\t\t} else {\r\n\t\t\t\tstate = data.url;\r\n\t\t\t}\r\n\r\n\t\t\t(0, _helpers.createHistoryRecord)(state);\r\n\t\t}\r\n\t};\r\n\r\n\tthis.triggerEvent('transitionStart', popstate);\r\n\r\n\t// set transition object\r\n\tif (data.customTransition != null) {\r\n\t\tthis.updateTransition(window.location.pathname, data.url, data.customTransition);\r\n\t\tdocument.documentElement.classList.add('to-' + (0, _helpers.classify)(data.customTransition));\r\n\t} else {\r\n\t\tthis.updateTransition(window.location.pathname, data.url);\r\n\t}\r\n\r\n\t// start/skip animation\r\n\tif (!popstate || this.options.animateHistoryBrowsing) {\r\n\t\tanimateOut();\r\n\t} else {\r\n\t\tthis.triggerEvent('animationSkipped');\r\n\t}\r\n\r\n\t// start/skip loading of page\r\n\tif (this.cache.exists(data.url)) {\r\n\t\txhrPromise = new Promise(function (resolve) {\r\n\t\t\tresolve();\r\n\t\t});\r\n\t\tthis.triggerEvent('pageRetrievedFromCache');\r\n\t} else {\r\n\t\tif (!this.preloadPromise || this.preloadPromise.route != data.url) {\r\n\t\t\txhrPromise = new Promise(function (resolve, reject) {\r\n\t\t\t\t(0, _helpers.fetch)(_extends({}, data, { headers: _this.options.requestHeaders }), function (response) {\r\n\t\t\t\t\tif (response.status === 500) {\r\n\t\t\t\t\t\t_this.triggerEvent('serverError');\r\n\t\t\t\t\t\treject(data.url);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// get json data\r\n\t\t\t\t\t\tvar page = _this.getPageData(response);\r\n\t\t\t\t\t\tif (page != null) {\r\n\t\t\t\t\t\t\tpage.url = data.url;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treject(data.url);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// render page\r\n\t\t\t\t\t\t_this.cache.cacheUrl(page);\r\n\t\t\t\t\t\t_this.triggerEvent('pageLoaded');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\txhrPromise = this.preloadPromise;\r\n\t\t}\r\n\t}\r\n\r\n\t// when everything is ready, handle the outcome\r\n\tPromise.all(animationPromises.concat([xhrPromise])).then(function () {\r\n\t\t// render page\r\n\t\t_this.renderPage(_this.cache.getPage(data.url), popstate);\r\n\t\t_this.preloadPromise = null;\r\n\t}).catch(function (errorUrl) {\r\n\t\t// rewrite the skipPopStateHandling function to redirect manually when the history.go is processed\r\n\t\t_this.options.skipPopStateHandling = function () {\r\n\t\t\twindow.location = errorUrl;\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\t// go back to the actual page were still at\r\n\t\twindow.history.go(-1);\r\n\t});\r\n};\r\n\r\nexports.default = loadPage;\r\n\r\n/***/ }),\r\n/* 8 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar classify = function classify(text) {\r\n\tvar output = text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\r\n\t.replace(/\\//g, '-') // Replace / with -\r\n\t.replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\r\n\t.replace(/\\-\\-+/g, '-') // Replace multiple - with single -\r\n\t.replace(/^-+/, '') // Trim - from start of text\r\n\t.replace(/-+$/, ''); // Trim - from end of text\r\n\tif (output[0] === '/') output = output.splice(1);\r\n\tif (output === '') output = 'homepage';\r\n\treturn output;\r\n};\r\n\r\nexports.default = classify;\r\n\r\n/***/ }),\r\n/* 9 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar createHistoryRecord = function createHistoryRecord(url) {\r\n\twindow.history.pushState({\r\n\t\turl: url || window.location.href.split(window.location.hostname)[1],\r\n\t\trandom: Math.random(),\r\n\t\tsource: 'swup'\r\n\t}, document.getElementsByTagName('title')[0].innerText, url || window.location.href.split(window.location.hostname)[1]);\r\n};\r\n\r\nexports.default = createHistoryRecord;\r\n\r\n/***/ }),\r\n/* 10 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _utils = __webpack_require__(1);\r\n\r\nvar getDataFromHtml = function getDataFromHtml(html, containers) {\r\n\tvar content = html.replace('<body', '<div id=\"swupBody\"').replace('</body>', '</div>');\r\n\tvar fakeDom = document.createElement('div');\r\n\tfakeDom.innerHTML = content;\r\n\tvar blocks = [];\r\n\r\n\tvar _loop = function _loop(i) {\r\n\t\tif (fakeDom.querySelector(containers[i]) == null) {\r\n\t\t\t// page in invalid\r\n\t\t\treturn {\r\n\t\t\t\tv: null\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\t(0, _utils.queryAll)(containers[i]).forEach(function (item, index) {\r\n\t\t\t\t(0, _utils.queryAll)(containers[i], fakeDom)[index].setAttribute('data-swup', blocks.length); // marks element with data-swup\r\n\t\t\t\tblocks.push((0, _utils.queryAll)(containers[i], fakeDom)[index].outerHTML);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tfor (var i = 0; i < containers.length; i++) {\r\n\t\tvar _ret = _loop(i);\r\n\r\n\t\tif ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\r\n\t}\r\n\r\n\tvar json = {\r\n\t\ttitle: fakeDom.querySelector('title').innerText,\r\n\t\tpageClass: fakeDom.querySelector('#swupBody').className,\r\n\t\toriginalContent: html,\r\n\t\tblocks: blocks\r\n\t};\r\n\r\n\t// to prevent memory leaks\r\n\tfakeDom.innerHTML = '';\r\n\tfakeDom = null;\r\n\r\n\treturn json;\r\n};\r\n\r\nexports.default = getDataFromHtml;\r\n\r\n/***/ }),\r\n/* 11 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar fetch = function fetch(setOptions) {\r\n\tvar callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n\tvar defaults = {\r\n\t\turl: window.location.pathname + window.location.search,\r\n\t\tmethod: 'GET',\r\n\t\tdata: null,\r\n\t\theaders: {}\r\n\t};\r\n\r\n\tvar options = _extends({}, defaults, setOptions);\r\n\r\n\tvar request = new XMLHttpRequest();\r\n\r\n\trequest.onreadystatechange = function () {\r\n\t\tif (request.readyState === 4) {\r\n\t\t\tif (request.status !== 500) {\r\n\t\t\t\tcallback(request);\r\n\t\t\t} else {\r\n\t\t\t\tcallback(request);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\trequest.open(options.method, options.url, true);\r\n\tObject.keys(options.headers).forEach(function (key) {\r\n\t\trequest.setRequestHeader(key, options.headers[key]);\r\n\t});\r\n\trequest.send(options.data);\r\n\treturn request;\r\n};\r\n\r\nexports.default = fetch;\r\n\r\n/***/ }),\r\n/* 12 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar transitionEnd = function transitionEnd() {\r\n\tvar el = document.createElement('div');\r\n\r\n\tvar transEndEventNames = {\r\n\t\tWebkitTransition: 'webkitTransitionEnd',\r\n\t\tMozTransition: 'transitionend',\r\n\t\tOTransition: 'oTransitionEnd otransitionend',\r\n\t\ttransition: 'transitionend'\r\n\t};\r\n\r\n\tfor (var name in transEndEventNames) {\r\n\t\tif (el.style[name] !== undefined) {\r\n\t\t\treturn transEndEventNames[name];\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nexports.default = transitionEnd;\r\n\r\n/***/ }),\r\n/* 13 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar getCurrentUrl = function getCurrentUrl() {\r\n\treturn window.location.pathname + window.location.search;\r\n};\r\n\r\nexports.default = getCurrentUrl;\r\n\r\n/***/ }),\r\n/* 14 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _utils = __webpack_require__(1);\r\n\r\nvar markSwupElements = function markSwupElements(element, containers) {\r\n\tvar blocks = 0;\r\n\r\n\tvar _loop = function _loop(i) {\r\n\t\tif (element.querySelector(containers[i]) == null) {\r\n\t\t\tconsole.warn('Element ' + containers[i] + ' is not in current page.');\r\n\t\t} else {\r\n\t\t\t(0, _utils.queryAll)(containers[i]).forEach(function (item, index) {\r\n\t\t\t\t(0, _utils.queryAll)(containers[i], element)[index].setAttribute('data-swup', blocks);\r\n\t\t\t\tblocks++;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tfor (var i = 0; i < containers.length; i++) {\r\n\t\t_loop(i);\r\n\t}\r\n};\r\n\r\nexports.default = markSwupElements;\r\n\r\n/***/ }),\r\n/* 15 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Link = function () {\r\n\tfunction Link(elementOrUrl) {\r\n\t\t_classCallCheck(this, Link);\r\n\r\n\t\tif (elementOrUrl instanceof Element || elementOrUrl instanceof SVGElement) {\r\n\t\t\tthis.link = elementOrUrl;\r\n\t\t} else {\r\n\t\t\tthis.link = document.createElement('a');\r\n\t\t\tthis.link.href = elementOrUrl;\r\n\t\t}\r\n\t}\r\n\r\n\t_createClass(Link, [{\r\n\t\tkey: 'getPath',\r\n\t\tvalue: function getPath() {\r\n\t\t\tvar path = this.link.pathname;\r\n\t\t\tif (path[0] !== '/') {\r\n\t\t\t\tpath = '/' + path;\r\n\t\t\t}\r\n\t\t\treturn path;\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getAddress',\r\n\t\tvalue: function getAddress() {\r\n\t\t\tvar path = this.link.pathname + this.link.search;\r\n\r\n\t\t\tif (this.link.getAttribute('xlink:href')) {\r\n\t\t\t\tpath = this.link.getAttribute('xlink:href');\r\n\t\t\t}\r\n\r\n\t\t\tif (path[0] !== '/') {\r\n\t\t\t\tpath = '/' + path;\r\n\t\t\t}\r\n\t\t\treturn path;\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getHash',\r\n\t\tvalue: function getHash() {\r\n\t\t\treturn this.link.hash;\r\n\t\t}\r\n\t}]);\r\n\r\n\treturn Link;\r\n}();\r\n\r\nexports.default = Link;\r\n\r\n/***/ }),\r\n/* 16 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _utils = __webpack_require__(1);\r\n\r\nvar _helpers = __webpack_require__(0);\r\n\r\nvar renderPage = function renderPage(page, popstate) {\r\n\tvar _this = this;\r\n\r\n\tdocument.documentElement.classList.remove('is-leaving');\r\n\r\n\t// replace state in case the url was redirected\r\n\tvar link = new _helpers.Link(page.responseURL);\r\n\tif (window.location.pathname !== link.getPath()) {\r\n\t\twindow.history.replaceState({\r\n\t\t\turl: link.getPath(),\r\n\t\t\trandom: Math.random(),\r\n\t\t\tsource: 'swup'\r\n\t\t}, document.title, link.getPath());\r\n\r\n\t\t// save new record for redirected url\r\n\t\tthis.cache.cacheUrl(_extends({}, page, { url: link.getPath() }));\r\n\t}\r\n\r\n\t// only add for non-popstate transitions\r\n\tif (!popstate || this.options.animateHistoryBrowsing) {\r\n\t\tdocument.documentElement.classList.add('is-rendering');\r\n\t}\r\n\r\n\tthis.triggerEvent('willReplaceContent', popstate);\r\n\r\n\t// replace blocks\r\n\tfor (var i = 0; i < page.blocks.length; i++) {\r\n\t\tdocument.body.querySelector('[data-swup=\"' + i + '\"]').outerHTML = page.blocks[i];\r\n\t}\r\n\r\n\t// set title\r\n\tdocument.title = page.title;\r\n\r\n\tthis.triggerEvent('contentReplaced', popstate);\r\n\tthis.triggerEvent('pageView', popstate);\r\n\r\n\t// empty cache if it's disabled (because pages could be preloaded and stuff)\r\n\tif (!this.options.cache) {\r\n\t\tthis.cache.empty();\r\n\t}\r\n\r\n\t// start animation IN\r\n\tsetTimeout(function () {\r\n\t\tif (!popstate || _this.options.animateHistoryBrowsing) {\r\n\t\t\t_this.triggerEvent('animationInStart');\r\n\t\t\tdocument.documentElement.classList.remove('is-animating');\r\n\t\t}\r\n\t}, 10);\r\n\r\n\t// handle end of animation\r\n\tvar animationPromises = this.getAnimationPromises('in');\r\n\tif (!popstate || this.options.animateHistoryBrowsing) {\r\n\t\tPromise.all(animationPromises).then(function () {\r\n\t\t\t_this.triggerEvent('animationInDone');\r\n\t\t\t_this.triggerEvent('transitionEnd', popstate);\r\n\t\t\t// remove \"to-{page}\" classes\r\n\t\t\tdocument.documentElement.className.split(' ').forEach(function (classItem) {\r\n\t\t\t\tif (new RegExp('^to-').test(classItem) || classItem === 'is-changing' || classItem === 'is-rendering' || classItem === 'is-popstate') {\r\n\t\t\t\t\tdocument.documentElement.classList.remove(classItem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t} else {\r\n\t\tthis.triggerEvent('transitionEnd', popstate);\r\n\t}\r\n\r\n\t// reset scroll-to element\r\n\tthis.scrollToElement = null;\r\n};\r\n\r\nexports.default = renderPage;\r\n\r\n/***/ }),\r\n/* 17 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar triggerEvent = function triggerEvent(eventName, originalEvent) {\r\n\t// call saved handlers with \"on\" method and pass originalEvent object if available\r\n\tthis._handlers[eventName].forEach(function (handler) {\r\n\t\ttry {\r\n\t\t\thandler(originalEvent);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t}\r\n\t});\r\n\r\n\t// trigger event on document with prefix \"swup:\"\r\n\tvar event = new CustomEvent('swup:' + eventName, { detail: eventName });\r\n\tdocument.dispatchEvent(event);\r\n};\r\n\r\nexports.default = triggerEvent;\r\n\r\n/***/ }),\r\n/* 18 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar on = function on(event, handler) {\r\n\tif (this._handlers[event]) {\r\n\t\tthis._handlers[event].push(handler);\r\n\t} else {\r\n\t\tconsole.warn(\"Unsupported event \" + event + \".\");\r\n\t}\r\n};\r\n\r\nexports.default = on;\r\n\r\n/***/ }),\r\n/* 19 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar off = function off(event, handler) {\r\n\tvar _this = this;\r\n\r\n\tif (event != null) {\r\n\t\tif (handler != null) {\r\n\t\t\tif (this._handlers[event] && this._handlers[event].filter(function (savedHandler) {\r\n\t\t\t\treturn savedHandler === handler;\r\n\t\t\t}).length) {\r\n\t\t\t\tvar toRemove = this._handlers[event].filter(function (savedHandler) {\r\n\t\t\t\t\treturn savedHandler === handler;\r\n\t\t\t\t})[0];\r\n\t\t\t\tvar index = this._handlers[event].indexOf(toRemove);\r\n\t\t\t\tif (index > -1) {\r\n\t\t\t\t\tthis._handlers[event].splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"Handler for event '\" + event + \"' no found.\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis._handlers[event] = [];\r\n\t\t}\r\n\t} else {\r\n\t\tObject.keys(this._handlers).forEach(function (keys) {\r\n\t\t\t_this._handlers[keys] = [];\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexports.default = off;\r\n\r\n/***/ }),\r\n/* 20 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar updateTransition = function updateTransition(from, to, custom) {\r\n\t// transition routes\r\n\tthis.transition = {\r\n\t\tfrom: from,\r\n\t\tto: to,\r\n\t\tcustom: custom\r\n\t};\r\n};\r\n\r\nexports.default = updateTransition;\r\n\r\n/***/ }),\r\n/* 21 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _utils = __webpack_require__(1);\r\n\r\nvar _helpers = __webpack_require__(0);\r\n\r\nvar getAnimationPromises = function getAnimationPromises() {\r\n\tvar promises = [];\r\n\tvar animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\r\n\tanimatedElements.forEach(function (element) {\r\n\t\tvar promise = new Promise(function (resolve) {\r\n\t\t\telement.addEventListener((0, _helpers.transitionEnd)(), function (event) {\r\n\t\t\t\tif (element == event.target) {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tpromises.push(promise);\r\n\t});\r\n\treturn promises;\r\n};\r\n\r\nexports.default = getAnimationPromises;\r\n\r\n/***/ }),\r\n/* 22 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\n\r\nvar _helpers = __webpack_require__(0);\r\n\r\nvar getPageData = function getPageData(request) {\r\n\t// this method can be replaced in case other content than html is expected to be received from server\r\n\t// this function should always return {title, pageClass, originalContent, blocks, responseURL}\r\n\t// in case page has invalid structure - return null\r\n\tvar html = request.responseText;\r\n\tvar pageObject = (0, _helpers.getDataFromHtml)(html, this.options.containers);\r\n\r\n\tif (pageObject) {\r\n\t\tpageObject.responseURL = request.responseURL ? request.responseURL : window.location.href;\r\n\t} else {\r\n\t\tconsole.warn('Received page is invalid.');\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn pageObject;\r\n};\r\n\r\nexports.default = getPageData;\r\n\r\n/***/ }),\r\n/* 23 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n\tvalue: true\r\n});\r\nvar use = exports.use = function use(plugin) {\r\n\tif (!plugin.isSwupPlugin) {\r\n\t\tconsole.warn('Not swup plugin instance ' + plugin + '.');\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis.plugins.push(plugin);\r\n\tplugin.swup = this;\r\n\tif (typeof plugin._beforeMount === 'function') {\r\n\t\tplugin._beforeMount();\r\n\t}\r\n\tplugin.mount();\r\n\r\n\treturn this.plugins;\r\n};\r\n\r\nvar unuse = exports.unuse = function unuse(plugin) {\r\n\tvar pluginReference = void 0;\r\n\r\n\tif (typeof plugin === 'string') {\r\n\t\tpluginReference = this.plugins.find(function (p) {\r\n\t\t\treturn plugin === p.name;\r\n\t\t});\r\n\t} else {\r\n\t\tpluginReference = plugin;\r\n\t}\r\n\r\n\tif (!pluginReference) {\r\n\t\tconsole.warn('No such plugin.');\r\n\t\treturn;\r\n\t}\r\n\r\n\tpluginReference.unmount();\r\n\r\n\tif (typeof pluginReference._afterUnmount === 'function') {\r\n\t\tpluginReference._afterUnmount();\r\n\t}\r\n\r\n\tvar index = this.plugins.indexOf(pluginReference);\r\n\tthis.plugins.splice(index, 1);\r\n\r\n\treturn this.plugins;\r\n};\r\n\r\nvar findPlugin = exports.findPlugin = function findPlugin(pluginName) {\r\n\treturn this.plugins.find(function (p) {\r\n\t\treturn pluginName === p.name;\r\n\t});\r\n};\r\n\r\n/***/ })\r\n/******/ ]);\r\n});"]}